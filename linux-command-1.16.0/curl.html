<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="curl命令, Linux Python Shell Devops Kubernetes Hadoop">
    <meta name="description" content="任何值的拥有的都是值得等待的">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">

    <title>curl命令 | 波亚斯</title>
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/favicon.png">

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/css/matery.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/css/my.css">

    <script src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/jquery/jquery.min.js"></script>
<meta name="generator" content="Hexo 6.3.0"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">波亚斯</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/project" class="waves-effect waves-light">
      
      <i class="fas fa-folder-tree" style="zoom: 0.6;"></i>
      
      <span>项目</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">波亚斯</div>
        <div class="logo-desc">
            
            任何值的拥有的都是值得等待的
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
      
        <a href="/" class="waves-effect waves-light">
            
                <i class="fa-fw fas fa-home"></i>
            
            首页
        </a>
          
        </li>
        
        <li class="m-nav-item">
      
        <a href="/tags" class="waves-effect waves-light">
            
                <i class="fa-fw fas fa-tags"></i>
            
            标签
        </a>
          
        </li>
        
        <li class="m-nav-item">
      
        <a href="/categories" class="waves-effect waves-light">
            
                <i class="fa-fw fas fa-bookmark"></i>
            
            分类
        </a>
          
        </li>
        
        <li class="m-nav-item">
      
        <a href="/project" class="waves-effect waves-light">
            
                <i class="fa-fw fas fa-folder-tree"></i>
            
            项目
        </a>
          
        </li>
        

    </ul>
</div>


        </div>

    </nav>
<script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"3F6WTHxhAYXUUJoc",ck:"3F6WTHxhAYXUUJoc",autoTrack:true,hashMode:true})</script>
</header>

    
<script src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/medias/featureimages/20.jpeg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">curl命令</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #3C8FFF;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #3C8FFF;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/">
                                <span class="chip bg-color"></span>
                            </a>
                        
                            <a href="/">
                                <span class="chip bg-color"></span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/" class="post-category">
                                
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-06-29
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2023-07-01
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    3.9k
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/prism/prism.css">
        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>curl命令</strong> 是一个利用URL规则在命令行下工作的文件传输工具。它支持文件的上传和下载，所以是综合传输工具，但按传统，习惯称curl为下载工具。作为一款强力工具，curl支持包括HTTP、HTTPS、ftp等众多协议，还支持POST、cookies、认证、从指定偏移处下载部分文件、用户代理字符串、限速、文件大小、进度条等特征。做网页处理流程和数据检索自动化，curl可以助一臂之力。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">curl<span class="token punctuation">(</span>选项<span class="token punctuation">)</span><span class="token punctuation">(</span>参数<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token parameter variable">-a</span>   <span class="token parameter variable">--append</span>                                   <span class="token comment"># 上传文件时，附加到目标文件 </span>
<span class="token parameter variable">-A</span>   --user-agent                               <span class="token comment"># 设置用户代理发送给服务器 </span>
<span class="token parameter variable">-anyauth</span>                                        <span class="token comment"># 可以使用“任何”身份验证方法 </span>
<span class="token parameter variable">-b</span>   <span class="token parameter variable">--cookie</span>                                   <span class="token comment"># cookie字符串或文件读取位置 </span>
     <span class="token parameter variable">--basic</span>                                    <span class="token comment"># 使用HTTP基本验证 </span>
<span class="token parameter variable">-B</span>   --use-ascii                                <span class="token comment"># 使用ASCII /文本传输 </span>
<span class="token parameter variable">-c</span>   --cookie-jar                               <span class="token comment"># 操作结束后把cookie写入到这个文件中 </span>
<span class="token parameter variable">-C</span>   --continue-at                              <span class="token comment"># 断点续传 </span>
<span class="token parameter variable">-d</span>   <span class="token parameter variable">--data</span>                                     <span class="token comment"># HTTP POST方式传送数据 </span>
     --data-ascii                               <span class="token comment"># 以ascii的方式post数据 </span>
     --data-binary                              <span class="token comment"># 以二进制的方式post数据 </span>
     <span class="token parameter variable">--negotiate</span>                                <span class="token comment"># 使用HTTP身份验证 </span>
     <span class="token parameter variable">--digest</span>                                   <span class="token comment"># 使用数字身份验证 </span>
     --disable-eprt                             <span class="token comment"># 禁止使用EPRT或LPRT </span>
     --disable-epsv                             <span class="token comment"># 禁止使用EPSV </span>
<span class="token parameter variable">-D</span>   --dump-header                              <span class="token comment"># 把header信息写入到该文件中 </span>
     --egd-file                                 <span class="token comment"># 为随机数据(SSL)设置EGD socket路径 </span>
     --tcp-nodelay                              <span class="token comment"># 使用TCP\_NODELAY选项 </span>
<span class="token parameter variable">-e</span>   <span class="token parameter variable">--referer</span>                                  <span class="token comment"># 来源网址 </span>
<span class="token parameter variable">-E</span>   <span class="token parameter variable">--cert</span>                                     <span class="token comment"># 客户端证书文件和密码 (SSL)</span>
     --cert-type                                <span class="token comment"># 证书文件类型 (DER/PEM/ENG) (SSL)</span>
     <span class="token parameter variable">--key</span>                                      <span class="token comment"># 私钥文件名 (SSL)</span>
     --key-type                                 <span class="token comment"># 私钥文件类型 (DER/PEM/ENG) (SSL)</span>
     <span class="token parameter variable">--pass</span>                                     <span class="token comment"># 私钥密码 (SSL)</span>
     <span class="token parameter variable">--engine</span>                                   <span class="token comment"># 加密引擎使用 (SSL). "--engine list" for list </span>
     <span class="token parameter variable">--cacert</span>                                   <span class="token comment"># CA证书 (SSL)</span>
     <span class="token parameter variable">--capath</span>                                   <span class="token comment"># CA目录 (made using c\_rehash) to verify peer against (SSL)</span>
     <span class="token parameter variable">--ciphers</span>                                  <span class="token comment"># SSL密码 </span>
     <span class="token parameter variable">--compressed</span>                               <span class="token comment"># 要求返回是压缩的形势 (using deflate or gzip)</span>
     --connect-timeout                          <span class="token comment"># 设置最大请求时间 </span>
     --create-dirs                              <span class="token comment"># 建立本地目录的目录层次结构 </span>
     <span class="token parameter variable">--crlf</span>                                     <span class="token comment"># 上传是把LF转变成CRLF </span>
<span class="token parameter variable">-f</span>   <span class="token parameter variable">--fail</span>                                     <span class="token comment"># 连接失败时不显示http错误 </span>
     --ftp-create-dirs                          <span class="token comment"># 如果远程目录不存在，创建远程目录 </span>
     --ftp-method <span class="token punctuation">\</span><span class="token punctuation">[</span>multicwd/nocwd/singlecwd<span class="token punctuation">]</span>   <span class="token comment"># 控制CWD的使用 </span>
     --ftp-pasv                                 <span class="token comment"># 使用 PASV/EPSV 代替端口 </span>
     --ftp-skip-pasv-ip                         <span class="token comment"># 使用PASV的时候,忽略该IP地址 </span>
     --ftp-ssl                                  <span class="token comment"># 尝试用 SSL/TLS 来进行ftp数据传输 </span>
     --ftp-ssl-reqd                             <span class="token comment"># 要求用 SSL/TLS 来进行ftp数据传输 </span>
<span class="token parameter variable">-F</span>   <span class="token parameter variable">--form</span>                                     <span class="token comment"># 模拟http表单提交数据 </span>
     --form-string                              <span class="token comment"># 模拟http表单提交数据 </span>
<span class="token parameter variable">-g</span>   <span class="token parameter variable">--globoff</span>                                  <span class="token comment"># 禁用网址序列和范围使用&#123;&#125;和\[] </span>
<span class="token parameter variable">-G</span>   <span class="token parameter variable">--get</span>                                      <span class="token comment"># 以get的方式来发送数据 </span>
<span class="token parameter variable">-H</span>   <span class="token parameter variable">--header</span>                                   <span class="token comment"># 自定义头信息传递给服务器 </span>
     --ignore-content-length                    <span class="token comment"># 忽略的HTTP头信息的长度 </span>
<span class="token parameter variable">-i</span>   <span class="token parameter variable">--include</span>                                  <span class="token comment"># 输出时包括protocol头信息 </span>
<span class="token parameter variable">-I</span>   <span class="token parameter variable">--head</span>                                     <span class="token comment"># 只显示请求头信息 </span>
<span class="token parameter variable">-j</span>   --junk-session-cookies                     <span class="token comment"># 读取文件进忽略session cookie </span>
     <span class="token parameter variable">--interface</span>                                <span class="token comment"># 使用指定网络接口/地址 </span>
     <span class="token parameter variable">--krb4</span>                                     <span class="token comment"># 使用指定安全级别的krb4 </span>
<span class="token parameter variable">-k</span>   <span class="token parameter variable">--insecure</span>                                 <span class="token comment"># 允许不使用证书到SSL站点 </span>
<span class="token parameter variable">-K</span>   <span class="token parameter variable">--config</span>                                   <span class="token comment"># 指定的配置文件读取 </span>
<span class="token parameter variable">-l</span>   --list-only                                <span class="token comment"># 列出ftp目录下的文件名称 </span>
     --limit-rate                               <span class="token comment"># 设置传输速度 </span>
     --local-port                               <span class="token comment"># 强制使用本地端口号 </span>
<span class="token parameter variable">-m</span>   --max-time                                 <span class="token comment"># 设置最大传输时间 </span>
     --max-redirs                               <span class="token comment"># 设置最大读取的目录数 </span>
     --max-filesize                             <span class="token comment"># 设置最大下载的文件总量 </span>
<span class="token parameter variable">-M</span>   <span class="token parameter variable">--manual</span>                                   <span class="token comment"># 显示全手动 </span>
<span class="token parameter variable">-n</span>   <span class="token parameter variable">--netrc</span>                                    <span class="token comment"># 从netrc文件中读取用户名和密码 </span>
     --netrc-optional                           <span class="token comment"># 使用 .netrc 或者 URL来覆盖-n </span>
     <span class="token parameter variable">--ntlm</span>                                     <span class="token comment"># 使用 HTTP NTLM 身份验证 </span>
<span class="token parameter variable">-N</span>   --no-buffer                                <span class="token comment"># 禁用缓冲输出 </span>
<span class="token parameter variable">-o</span>   <span class="token parameter variable">--output</span>                                   <span class="token comment"># 把输出写到该文件中 </span>
<span class="token parameter variable">-O</span>   --remote-name                              <span class="token comment"># 把输出写到该文件中，保留远程文件的文件名 </span>
<span class="token parameter variable">-p</span>   <span class="token parameter variable">--proxytunnel</span>                              <span class="token comment"># 使用HTTP代理 </span>
     --proxy-anyauth                            <span class="token comment"># 选择任一代理身份验证方法 </span>
     --proxy-basic                              <span class="token comment"># 在代理上使用基本身份验证 </span>
     --proxy-digest                             <span class="token comment"># 在代理上使用数字身份验证 </span>
     --proxy-ntlm                               <span class="token comment"># 在代理上使用ntlm身份验证 </span>
<span class="token parameter variable">-P</span>   --ftp-port                                 <span class="token comment"># 使用端口地址，而不是使用PASV </span>
<span class="token parameter variable">-q</span>                                              <span class="token comment"># 作为第一个参数，关闭 .curlrc </span>
<span class="token parameter variable">-Q</span>   <span class="token parameter variable">--quote</span>                                    <span class="token comment"># 文件传输前，发送命令到服务器 </span>
<span class="token parameter variable">-r</span>   <span class="token parameter variable">--range</span>                                    <span class="token comment"># 检索来自HTTP/1.1或FTP服务器字节范围 </span>
--range-file                                    <span class="token comment"># 读取（SSL）的随机文件 </span>
<span class="token parameter variable">-R</span>   --remote-time                              <span class="token comment"># 在本地生成文件时，保留远程文件时间 </span>
     <span class="token parameter variable">--retry</span>                                    <span class="token comment"># 传输出现问题时，重试的次数 </span>
     --retry-delay                              <span class="token comment"># 传输出现问题时，设置重试间隔时间 </span>
     --retry-max-time                           <span class="token comment"># 传输出现问题时，设置最大重试时间 </span>
<span class="token parameter variable">-s</span>   <span class="token parameter variable">--silent</span>                                   <span class="token comment"># 静默模式。不输出任何东西 </span>
<span class="token parameter variable">-S</span>   --show-error                               <span class="token comment"># 显示错误 </span>
     <span class="token parameter variable">--socks4</span>                                   <span class="token comment"># 用socks4代理给定主机和端口 </span>
     <span class="token parameter variable">--socks5</span>                                   <span class="token comment"># 用socks5代理给定主机和端口 </span>
     <span class="token parameter variable">--stderr</span>                                   <span class="token comment">#   </span>
<span class="token parameter variable">-t</span>   --telnet-option                            <span class="token comment"># Telnet选项设置 </span>
     <span class="token parameter variable">--trace</span>                                    <span class="token comment"># 对指定文件进行debug </span>
     --trace-ascii                              <span class="token comment"># Like --跟踪但没有hex输出 </span>
     --trace-time                               <span class="token comment"># 跟踪/详细输出时，添加时间戳 </span>
<span class="token parameter variable">-T</span>   --upload-file                              <span class="token comment"># 上传文件 </span>
     <span class="token parameter variable">--url</span> <span class="token operator">&lt;</span>url<span class="token operator">></span>                                <span class="token comment"># 要使用的 URL</span>
<span class="token parameter variable">-u</span>   <span class="token parameter variable">--user</span>                                     <span class="token comment"># 设置服务器的用户和密码 </span>
<span class="token parameter variable">-U</span>   --proxy-user                               <span class="token comment"># 设置代理用户名和密码 </span>
<span class="token parameter variable">-w</span>   --write-out <span class="token punctuation">\</span><span class="token punctuation">[</span>format<span class="token punctuation">]</span>                      <span class="token comment"># 什么输出完成后 </span>
<span class="token parameter variable">-x</span>   <span class="token parameter variable">--proxy</span>                                    <span class="token comment"># 在给定的端口上使用HTTP代理 </span>
<span class="token parameter variable">-X</span>   <span class="token parameter variable">--request</span>                                  <span class="token comment"># 指定什么命令 </span>
<span class="token parameter variable">-y</span>   --speed-time                               <span class="token comment"># 放弃限速所要的时间，默认为30 </span>
<span class="token parameter variable">-Y</span>   --speed-limit                              <span class="token comment"># 停止传输速度的限制，速度时间 </span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><h4 id="文件下载"><a href="#文件下载" class="headerlink" title="文件下载"></a><strong>文件下载</strong></h4><p>curl命令可以用来执行下载、发送各种HTTP请求，指定HTTP头部等操作。如果系统没有curl可以使用<code>yum install curl</code>安装，也可以下载安装。curl是将下载文件输出到stdout，将进度信息输出到stderr，不显示进度信息使用<code>--silent</code>选项。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> URL <span class="token parameter variable">--silent</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>这条命令是将下载文件输出到终端，所有下载的数据都被写入到stdout。</p>
<p>使用选项<code>-O</code>将下载的数据写入到文件，必须使用文件的绝对地址：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> http://example.com/text.iso <span class="token parameter variable">--silent</span> <span class="token parameter variable">-O</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>选项<code>-o</code>将下载数据写入到指定名称的文件中，并使用<code>--progress</code>显示进度条：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> http://example.com/test.iso <span class="token parameter variable">-o</span> filename.iso <span class="token parameter variable">--progress</span>
<span class="token comment">######################################### 100.0%</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="不输出错误和进度信息"><a href="#不输出错误和进度信息" class="headerlink" title="不输出错误和进度信息"></a><strong>不输出错误和进度信息</strong></h4><p><code>-s</code> 参数将不输出错误和进度信息。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-s</span> https://www.example.com
<span class="token comment"># 上面命令一旦发生错误，不会显示错误信息。不发生错误的话，会正常显示运行结果。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>如果想让 curl 不产生任何输出，可以使用下面的命令。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-o</span> /dev/null https://example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="断点续传"><a href="#断点续传" class="headerlink" title="断点续传"></a><strong>断点续传</strong></h4><p>curl能够从特定的文件偏移处继续下载，它可以通过指定一个便宜量来下载部分文件：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> URL/File <span class="token parameter variable">-C</span> 偏移量

<span class="token comment">#偏移量是以字节为单位的整数，如果让curl自动推断出正确的续传位置使用-C -：</span>
<span class="token function">curl</span> <span class="token parameter variable">-C</span> <span class="token parameter variable">-URL</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="使用curl设置参照页字符串"><a href="#使用curl设置参照页字符串" class="headerlink" title="使用curl设置参照页字符串"></a><strong>使用curl设置参照页字符串</strong></h4><p>参照页是位于HTTP头部中的一个字符串，用来表示用户是从哪个页面到达当前页面的，如果用户点击网页A中的某个连接，那么用户就会跳转到B网页，网页B头部的参照页字符串就包含网页A的URL。</p>
<p>使用 <code>--referer</code> 选项指定参照页字符串：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">--referer</span> http://www.example.com http://example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="用curl设置用户代理字符串"><a href="#用curl设置用户代理字符串" class="headerlink" title="用curl设置用户代理字符串"></a><strong>用curl设置用户代理字符串</strong></h4><p>有些网站访问会提示只能使用IE浏览器来访问，这是因为这些网站设置了检查用户代理，可以使用curl把用户代理设置为IE，这样就可以访问了。使用 <code>--user-agent</code> 或者 <code>-A</code> 选项：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> URL --user-agent <span class="token string">"Mozilla/5.0"</span>
<span class="token function">curl</span> URL <span class="token parameter variable">-A</span> <span class="token string">"Mozilla/5.0"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>其他HTTP头部信息也可以使用curl来发送，使用<code>-H</code>“头部信息” 传递多个头部信息，例如：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-H</span> <span class="token string">"Host:example.com"</span> <span class="token parameter variable">-H</span> <span class="token string">"accept-language:zh-cn"</span> URL<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="curl的带宽控制和下载配额"><a href="#curl的带宽控制和下载配额" class="headerlink" title="curl的带宽控制和下载配额"></a><strong>curl的带宽控制和下载配额</strong></h4><p>使用<code>--limit-rate</code>限制curl的下载速度：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> URL --limit-rate 50k<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>命令中用k（千字节）和m（兆字节）指定下载速度限制。</p>
<p>使用<code>--max-filesize</code>指定可下载的最大文件大小：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> URL --max-filesize bytes<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>如果文件大小超出限制，命令则返回一个非0退出码，如果命令正常则返回0。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> --limit-rate 200k https://example.com
<span class="token comment"># 上面命令将带宽限制在每秒 200K 字节。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="用curl进行认证"><a href="#用curl进行认证" class="headerlink" title="用curl进行认证"></a><strong>用curl进行认证</strong></h4><p>使用curl选项 -u 可以完成HTTP或者FTP的认证，可以指定密码，也可以不指定密码在后续操作中输入密码：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-u</span> user:pwd http://example.com
<span class="token function">curl</span> <span class="token parameter variable">-u</span> user http://example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="只打印响应头部信息"><a href="#只打印响应头部信息" class="headerlink" title="只打印响应头部信息"></a><strong>只打印响应头部信息</strong></h4><p>通过<code>-I</code>或者<code>-head</code>可以只打印出HTTP头部信息：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost text<span class="token punctuation">]</span><span class="token comment"># curl -I http://example.com</span>
HTTP/1.1 <span class="token number">200</span> OK
Content-Encoding: <span class="token function">gzip</span>
Accept-Ranges: bytes
Age: <span class="token number">275552</span>
Cache-Control: max-age<span class="token operator">=</span><span class="token number">604800</span>
Content-Type: text/html<span class="token punctuation">;</span> <span class="token assign-left variable">charset</span><span class="token operator">=</span>UTF-8
Date: Mon, <span class="token number">24</span> Apr <span class="token number">2023</span> <span class="token number">14</span>:39:36 GMT
Etag: <span class="token string">"3147526947+gzip"</span>
Expires: Mon, 01 May <span class="token number">2023</span> <span class="token number">14</span>:39:36 GMT
Last-Modified: Thu, <span class="token number">17</span> Oct <span class="token number">2019</span> 07:18:26 GMT
Server: ECS <span class="token punctuation">(</span>sec/96EE<span class="token punctuation">)</span>
X-Cache: HIT
Content-Length: <span class="token number">648</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="GET-请求"><a href="#GET-请求" class="headerlink" title="GET 请求"></a><strong>GET 请求</strong></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token string">"http://www.example.com"</span>    <span class="token comment"># 如果这里的URL指向的是一个文件或者一幅图都可以直接下载到本地</span>
<span class="token function">curl</span> <span class="token parameter variable">-i</span> <span class="token string">"http://www.example.com"</span> <span class="token comment"># 显示全部信息</span>
<span class="token function">curl</span> <span class="token parameter variable">-l</span> <span class="token string">"http://www.example.com"</span> <span class="token comment"># 显示页面内容</span>
<span class="token function">curl</span> <span class="token parameter variable">-v</span> <span class="token string">"http://www.example.com"</span> <span class="token comment"># 显示get请求全过程解析</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="POST-请求"><a href="#POST-请求" class="headerlink" title="POST 请求"></a><strong>POST 请求</strong></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">curl</span> <span class="token parameter variable">-d</span> <span class="token string">"param1=value1&amp;param2=value2"</span> <span class="token string">"http://www.example.com/login"</span>

$ <span class="token function">curl</span> -d<span class="token string">'login=emma＆password=123'</span> <span class="token parameter variable">-X</span> POST https://example.com/login
<span class="token comment"># 或者</span>
$ <span class="token function">curl</span> <span class="token parameter variable">-d</span> <span class="token string">'login=emma'</span> <span class="token parameter variable">-d</span> <span class="token string">'password=123'</span> <span class="token parameter variable">-X</span> POST  https://example.com/login<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><code>--data-urlencode</code> 参数等同于 <code>-d</code>，发送 <code>POST</code> 请求的数据体，区别在于会自动将发送的数据进行 <code>URL</code> 编码。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> --data-urlencode <span class="token string">'comment=hello world'</span> https://example.com/login
<span class="token comment"># 上面代码中，发送的数据hello world之间有一个空格，需要进行 URL 编码。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="发送本地文件中的文字"><a href="#发送本地文件中的文字" class="headerlink" title="发送本地文件中的文字"></a><strong>发送本地文件中的文字</strong></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-d</span> <span class="token string">'@data.txt'</span> https://example.com/upload
<span class="token comment"># 读取data.txt文件的内容，作为数据体向服务器发送。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="JSON-格式的-POST-请求"><a href="#JSON-格式的-POST-请求" class="headerlink" title="JSON 格式的 POST 请求"></a><strong>JSON 格式的 POST 请求</strong></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-l</span> <span class="token parameter variable">-H</span> <span class="token string">"Content-type: application/json"</span> <span class="token parameter variable">-X</span> POST <span class="token parameter variable">-d</span> <span class="token string">'&#123;"phone":"13888888888","password":"test"&#125;'</span> http://example.com/apis/users.json<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="向服务器发送-Cookie"><a href="#向服务器发送-Cookie" class="headerlink" title="向服务器发送 Cookie"></a><strong>向服务器发送 Cookie</strong></h4><p>使用<code>--cookie &quot;COKKIES&quot;</code>选项来指定cookie，多个cookie使用分号分隔：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> http://example.com <span class="token parameter variable">--cookie</span> <span class="token string">"user=root;pass=123456"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>将cookie另存为一个文件，使用<code>--cookie-jar</code>选项：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> URL --cookie-jar cookie_file<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><code>-b</code> 参数用来向服务器发送 Cookie。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-b</span> <span class="token string">'foo=bar'</span> https://example.com
<span class="token comment"># 上面命令会生成一个标头Cookie: foo=bar，向服务器发送一个名为foo、值为bar的 Cookie。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-b</span> <span class="token string">'foo1=bar'</span> <span class="token parameter variable">-b</span> <span class="token string">'foo2=baz'</span> https://example.com
<span class="token comment"># 上面命令发送两个 Cookie。</span>

```shell
<span class="token function">curl</span> <span class="token parameter variable">-b</span> cookies.txt https://www.example.com
<span class="token comment"># 上面命令读取本地文件 cookies.txt，里面是服务器设置的 Cookie（参见-c参数），将其发送到服务器。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Cookie-写入一个文件"><a href="#Cookie-写入一个文件" class="headerlink" title="Cookie 写入一个文件"></a><strong>Cookie 写入一个文件</strong></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-c</span> cookies.txt https://www.example.com
<span class="token comment"># 上面命令将服务器的 HTTP 回应所设置 Cookie 写入文本文件cookies.txt。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="请求的来源"><a href="#请求的来源" class="headerlink" title="请求的来源"></a><strong>请求的来源</strong></h4><p><code>-e</code> 参数用来设置 <code>HTTP</code> 的标头 <code>Referer</code>，表示请求的来源。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-e</span> <span class="token string">'https://example.com?q=example'</span> https://www.example.com
<span class="token comment"># 上面命令将Referer标头设为 https://example.com?q=example。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><code>-H</code> 参数可以通过直接添加标头 <code>Referer</code>，达到同样效果。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-H</span> <span class="token string">'Referer: https://example.com?q=example'</span> https://www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="上传二进制文件"><a href="#上传二进制文件" class="headerlink" title="上传二进制文件"></a><strong>上传二进制文件</strong></h4><p><code>-F</code> 参数用来向服务器上传二进制文件。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-F</span> <span class="token string">'file=@photo.png'</span> https://example.com/profile
<span class="token comment"># 上面命令会给 HTTP 请求加上标头 Content-Type: multipart/form-data ，然后将文件photo.png作为file字段上传。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><code>-F</code> 参数可以指定 <code>MIME</code> 类型。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-F</span> <span class="token string">'file=@photo.png;type=image/png'</span> https://example.com/profile
<span class="token comment"># 上面命令指定 MIME 类型为image/png，否则 curl 会把 MIME 类型设为 application/octet-stream。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><code>-F</code> 参数也可以指定文件名。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-F</span> <span class="token string">'file=@photo.png;filename=me.png'</span> https://example.com/profile
<span class="token comment"># 上面命令中，原始文件名为photo.png，但是服务器接收到的文件名为me.png。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="设置请求头"><a href="#设置请求头" class="headerlink" title="设置请求头"></a><strong>设置请求头</strong></h4><p><code>-H</code> 参数添加 <code>HTTP</code> 请求的标头。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-H</span> <span class="token string">'Accept-Language: en-US'</span> https://example.com
<span class="token comment"># 上面命令添加 HTTP 标头 Accept-Language: en-US。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-H</span> <span class="token string">'Accept-Language: en-US'</span> <span class="token parameter variable">-H</span> <span class="token string">'Secret-Message: xyzzy'</span> https://example.com
<span class="token comment"># 上面命令添加两个 HTTP 标头。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-d</span> <span class="token string">'&#123;"login": "emma", "pass": "123"&#125;'</span> <span class="token parameter variable">-H</span> <span class="token string">'Content-Type: application/json'</span> https://example.com/login
<span class="token comment"># 上面命令添加 HTTP 请求的标头是 Content-Type: application/json，然后用 -d 参数发送 JSON 数据。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="跳过-SSL-检测"><a href="#跳过-SSL-检测" class="headerlink" title="跳过 SSL 检测"></a><strong>跳过 SSL 检测</strong></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-k</span> https://www.example.com
<span class="token comment"># 上面命令不会检查服务器的 SSL 证书是否正确。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="请求跟随服务器的重定向"><a href="#请求跟随服务器的重定向" class="headerlink" title="请求跟随服务器的重定向"></a><strong>请求跟随服务器的重定向</strong></h4><p><code>-L</code> 参数会让 <code>HTTP</code> 请求跟随服务器的重定向。<code>curl</code> 默认不跟随重定向。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token parameter variable">-d</span> <span class="token string">'tweet=hi'</span> https://api.example.com/tweet<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>值得注意的是，这种重定向方式不适用于在返回的 HTML 中的重定向，比如这种是不被 curl 识别的重定向(这部分内容由 <code>curl -v -L &lt;url&gt;</code> 生成)</p>
<pre class="line-numbers language-curl" data-language="curl"><code class="language-curl">* Connected to example.com (*.*.*.*) port 80 (#0)
&gt; GET &#x2F; HTTP&#x2F;1.1
&gt; Host: example.com
&gt; User-Agent: curl&#x2F;8.0.1
&gt; Accept: *&#x2F;*
&gt;
&lt; HTTP&#x2F;1.1 200 OK
....
&lt; Content-Type: text&#x2F;html
&lt;
&lt;html&gt;
&lt;meta http-equiv&#x3D;&quot;refresh&quot; content&#x3D;&quot;0;url&#x3D;http:&#x2F;&#x2F;www.example.com&#x2F;&quot;&gt;
&lt;&#x2F;html&gt;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="调试参数"><a href="#调试参数" class="headerlink" title="调试参数"></a><strong>调试参数</strong></h4><p><code>-v</code> 参数输出通信的整个过程，用于调试。</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-v</span> https://www.example.com
<span class="token comment"># --trace参数也可以用于调试，还会输出原始的二进制数据。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">--trace</span> - https://www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="获取本机外网-IP"><a href="#获取本机外网-IP" class="headerlink" title="获取本机外网 IP"></a><strong>获取本机外网 IP</strong></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> ipecho.net/plain<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="使用-curl-测试网站加载速度"><a href="#使用-curl-测试网站加载速度" class="headerlink" title="使用 curl 测试网站加载速度"></a><strong>使用 curl 测试网站加载速度</strong></h4><p>命令有一个鲜为人知的选项，<code>-w</code>，该选项在请求结束之后打印本次请求的统计数据到标准输出。</p>
<p>首先，我们定义控制打印行为的格式化字符串。新建文本文件 <code>fmt.txt</code>，并填入下面的内容：</p>
<pre class="line-numbers language-ruby" data-language="ruby"><code class="language-ruby">\n
Response <span class="token builtin">Time</span> <span class="token keyword">for</span><span class="token operator">:</span> <span class="token string-literal"><span class="token string">%&#123;url_effective&#125;</span></span>\n\n
<span class="token constant">DNS</span> Lookup <span class="token builtin">Time</span><span class="token operator">:</span>\t\t<span class="token string-literal"><span class="token string">%&#123;time_namelookup&#125;</span></span>s\n
Redirection <span class="token builtin">Time</span><span class="token operator">:</span>\t\t<span class="token string-literal"><span class="token string">%&#123;time_redirect&#125;</span></span>s\n
Connection <span class="token builtin">Time</span><span class="token operator">:</span>\t\t<span class="token string-literal"><span class="token string">%&#123;time_connect&#125;</span></span>s\n
App Connection <span class="token builtin">Time</span><span class="token operator">:</span>\t\t<span class="token string-literal"><span class="token string">%&#123;time_appconnect&#125;</span></span>s\n
Pre<span class="token operator">-</span>transfer <span class="token builtin">Time</span><span class="token operator">:</span>\t\t<span class="token string-literal"><span class="token string">%&#123;time_pretransfer&#125;</span></span>s\n
Start<span class="token operator">-</span>transfer <span class="token builtin">Time</span><span class="token operator">:</span>\t\t<span class="token string-literal"><span class="token string">%&#123;time_starttransfer&#125;</span></span>s\n\n
Total <span class="token builtin">Time</span><span class="token operator">:</span>\t\t\t<span class="token string-literal"><span class="token string">%&#123;time_total&#125;</span></span>s\n<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>curl 提供了很多置换变量，可以在格式化字符串中通过 <code>%&#123;var&#125;</code> 的形式使用。完整的变量列表可以在 <code>curl</code> 的 <code>manpage</code> 中查看。简单介绍一下我们使用的这几个变量：</p>
<ul>
<li><code>url_effective</code>: 执行完地址重定向之后的最终 URL；</li>
<li><code>time_namelookup</code>: 从请求开始至完成名称解析所花的时间，单位为秒，下同；</li>
<li><code>time_redirect</code>: 执行所有重定向所花的时间；</li>
<li><code>time_connect</code>: 从请求开始至建立 TCP 连接所花的时间；</li>
<li><code>time_appconnect</code>: 从请求开始至完成 SSL/SSH 握手所花的时间；</li>
<li><code>time_pretransfer</code>: 从请求开始至服务器准备传送文件所花的时间，包含了传送协商时间；</li>
<li><code>time_starttransfer</code>: 从请求开始至服务器准备传送第一个字节所花的时间；</li>
<li><code>time_total</code>: 完整耗时。</li>
</ul>
<p>然后执行请求，通过 @filename 指定保存了格式化字符串的文件：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> <span class="token parameter variable">-L</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-w</span> @fmt.txt <span class="token parameter variable">-o</span> /dev/null http://www.example.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>输出：</p>
<pre class="line-numbers language-c" data-language="c"><code class="language-c">Response Time <span class="token keyword">for</span><span class="token operator">:</span> http<span class="token operator">:</span><span class="token comment">//www.google.co.jp/?gfe_rd=cr&amp;dcr=0&amp;ei=cjIaWpTkHeiQ8QfnxYzoBA</span>

DNS Lookup Time<span class="token operator">:</span>        <span class="token number">0.000038</span>s
Redirection Time<span class="token operator">:</span>       <span class="token number">0.207271</span>s
Connection Time<span class="token operator">:</span>        <span class="token number">0.000039</span>s
App Connection Time<span class="token operator">:</span>    <span class="token number">0.000039</span>s
Pre<span class="token operator">-</span>transfer Time<span class="token operator">:</span>      <span class="token number">0.000067</span>s
Start<span class="token operator">-</span>transfer Time<span class="token operator">:</span>    <span class="token number">0.260115</span>s

Total Time<span class="token operator">:</span>             <span class="token number">0.467691</span>s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="要求返回是压缩的状态"><a href="#要求返回是压缩的状态" class="headerlink" title="要求返回是压缩的状态"></a><strong>要求返回是压缩的状态</strong></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">curl</span> <span class="token parameter variable">--compressed</span> -o- <span class="token parameter variable">-L</span> https://yarnpkg.com/install.sh <span class="token operator">|</span> <span class="token function">bash</span>
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
<span class="token number">100</span>    <span class="token number">54</span>  <span class="token number">100</span>    <span class="token number">54</span>    <span class="token number">0</span>     <span class="token number">0</span>     <span class="token number">42</span>      <span class="token number">0</span>  <span class="token number">0</span>:00:01  <span class="token number">0</span>:00:01 --:--:--    <span class="token number">42</span>
<span class="token number">100</span>  <span class="token number">2341</span>  <span class="token number">100</span>  <span class="token number">2341</span>    <span class="token number">0</span>     <span class="token number">0</span>   <span class="token number">1202</span>      <span class="token number">0</span>  <span class="token number">0</span>:00:01  <span class="token number">0</span>:00:01 --:--:--  <span class="token number">9289</span>
Installing Yarn<span class="token operator">!</span>
<span class="token operator">></span> Downloading tarball<span class="token punctuation">..</span>.

<span class="token punctuation">[</span><span class="token number">1</span>/2<span class="token punctuation">]</span>: https://yarnpkg.com/latest.tar.gz --<span class="token operator">></span> /var/folders/j7/3xly5sk567s65ny5dnr__3b80000gn/T/yarn.tar.gz.XXXXXXXXXX.9hJsBsrA
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
<span class="token number">100</span>    <span class="token number">57</span>  <span class="token number">100</span>    <span class="token number">57</span>    <span class="token number">0</span>     <span class="token number">0</span>     <span class="token number">72</span>      <span class="token number">0</span> --:--:-- --:--:-- --:--:--    <span class="token number">72</span>
<span class="token number">100</span>    <span class="token number">93</span>  <span class="token number">100</span>    <span class="token number">93</span>    <span class="token number">0</span>     <span class="token number">0</span>     <span class="token number">63</span>      <span class="token number">0</span>  <span class="token number">0</span>:00:01  <span class="token number">0</span>:00:01 --:--:--    <span class="token number">63</span>
<span class="token number">100</span>   <span class="token number">643</span>  <span class="token number">100</span>   <span class="token number">643</span>    <span class="token number">0</span>     <span class="token number">0</span>    <span class="token number">248</span>      <span class="token number">0</span>  <span class="token number">0</span>:00:02  <span class="token number">0</span>:00:02 --:--:--   <span class="token number">707</span>
<span class="token number">100</span> 1215k  <span class="token number">100</span> 1215k    <span class="token number">0</span>     <span class="token number">0</span>   153k      <span class="token number">0</span>  <span class="token number">0</span>:00:07  <span class="token number">0</span>:00:07 --:--:--  305k

<span class="token punctuation">[</span><span class="token number">2</span>/2<span class="token punctuation">]</span>: https://yarnpkg.com/latest.tar.gz.asc --<span class="token operator">></span> /var/folders/j7/3xly5sk567s65ny5dnr__3b80000gn/T/yarn.tar.gz.XXXXXXXXXX.9hJsBsrA.asc
<span class="token number">100</span>    <span class="token number">61</span>  <span class="token number">100</span>    <span class="token number">61</span>    <span class="token number">0</span>     <span class="token number">0</span>    <span class="token number">356</span>      <span class="token number">0</span> --:--:-- --:--:-- --:--:--   <span class="token number">356</span>
<span class="token number">100</span>    <span class="token number">97</span>  <span class="token number">100</span>    <span class="token number">97</span>    <span class="token number">0</span>     <span class="token number">0</span>    <span class="token number">325</span>      <span class="token number">0</span> --:--:-- --:--:-- --:--:--   <span class="token number">325</span>
<span class="token number">100</span>   <span class="token number">647</span>  <span class="token number">100</span>   <span class="token number">647</span>    <span class="token number">0</span>     <span class="token number">0</span>   <span class="token number">1283</span>      <span class="token number">0</span> --:--:-- --:--:-- --:--:--  <span class="token number">1283</span>
<span class="token number">100</span>   <span class="token number">832</span>  <span class="token number">100</span>   <span class="token number">832</span>    <span class="token number">0</span>     <span class="token number">0</span>   <span class="token number">1107</span>      <span class="token number">0</span> --:--:-- --:--:-- --:--:--  812k<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


            </div>
            <hr/>

            



        </div>
    </div>

    

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/codeBlock/codeCopy.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h1, h2, h3, h4'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


    <footer class="page-footer bg-color">

    <div class="container row center-align"
         style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2020-2023</span>
            

            
                <span id="icp"><img src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/medias/icp.png"
                                    style="vertical-align: text-bottom;"/>
                <a href="https://beian.miit.gov.cn" target="_blank">京ICP备2023001682号</a>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            <span <i class="fas fa-desktop"></i> </span>
            
                <span id="sitetime"> Loading ...</span>
                <script>
                    function siteTime() {
                        var seconds = 1000;
                        var minutes = seconds * 60;
                        var hours = minutes * 60;
                        var days = hours * 24;
                        var years = days * 365;
                        var today = new Date();
                        var startYear = "2020";
                        var startMonth = "8";
                        var startDate = "1";
                        var startHour = "8";
                        var startMinute = "0";
                        var startSecond = "0";
                        var todayYear = today.getFullYear();
                        var todayMonth = today.getMonth() + 1;
                        var todayDate = today.getDate();
                        var todayHour = today.getHours();
                        var todayMinute = today.getMinutes();
                        var todaySecond = today.getSeconds();
                        var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                        var diff = t2 - t1;
                        var diffYears = Math.floor(diff / years);
                        var diffDays = Math.floor((diff / days) - diffYears * 365);
                        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
                        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);

                        // 区分是否有年份.
                        var language = 'zh-CN';
                            document.getElementById("year").innerHTML = todayYear;
                            var daysTip = 'This site has been running for ' + diffDays + ' days';
                            if (language === 'zh-CN') {
                                daysTip = 'Poyais站点已安全运行 ' + diffDays + ' 天 ' + diffHours + ' 小时 ' + diffMinutes + ' 分钟 ' + diffSeconds + ' 秒🎊';
                            }
                            document.getElementById("sitetime").innerHTML = daysTip;
                    }

                    setInterval(siteTime, 1000);
                </script>
            <br>
            

            
            
                
            
            
                <span id="busuanzi_container_site_uv">
                <i class="fas fa-users"></i>&nbsp;总浏览:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>人🎉&nbsp;
            </span>
            
            
                <span id="busuanzi_container_site_pv">
                <i class="far fa-eye"></i>&nbsp;总点击:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>次🎉&nbsp;
            </span>
            
            
                <i class="fas fa-chart-area"></i>&nbsp;总字数:&nbsp;<span
                    class="white-color">168.6k</span>千字🎉
            
            

        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/wujiops" class="tooltipped" target="_blank" data-tooltip="访问我的Git仓库" data-position="top" data-delay="50">
        <i class="fab fa-git"></i>
    </a>



    <a href="mailto:158970251@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=158970251" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 158970251" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/js/matery.js"></script>
    
    

    <!-- Baidu Analytics -->

<script>
    var _hmt = _hmt || [];
    (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?a4c9204df4c3cec280b566bca80a32d5";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
    })();
</script>

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/wujiops/wujiops.github.io/libs/background/ribbon-dynamic.js" async="async"></script>
    

    
    <script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.js" type="module"></script>
    

</body>

</html>
